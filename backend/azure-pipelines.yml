pool:
  vmImage: "ubuntu-latest"

variables:
  buildConfiguration: "Release"

steps:
  - task: UseDotNet@2
    inputs:
      packageType: "sdk"
      version: "3.x"

  - script: |
      dotnet --version
      dotnet restore -v Minimal
      dotnet publish -c $(buildConfiguration) --output $(Build.ArtifactStagingDirectory)
    workingDirectory: backend

  - script: |
      ls
    workingDirectory: $(Build.ArtifactStagingDirectory)
